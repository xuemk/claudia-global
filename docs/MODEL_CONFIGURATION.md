# 模型配置指南

## 概述

Claudia 支持通过环境变量组来配置多个AI模型。每个环境变量组代表一个配置环境（如开发、测试、生产），每次只能启用一个组。

## 环境变量命名约定

### 模型定义

每个模型需要通过以下环境变量来定义：

```
MID_{序号}          - 模型的唯一标识符（必需）
MNAME_{序号}        - 模型的显示名称（可选，默认使用ID）
MDESC_{序号}        - 模型的描述信息（可选）
```

### 示例配置

#### 示例1：基础配置
```
MID_1=gpt-4o
MNAME_1=GPT-4o
MDESC_1=最新的GPT-4优化版本

MID_2=claude-3-5-sonnet-20241022
MNAME_2=Claude 3.5 Sonnet
MDESC_2=平衡性能的Claude模型

MID_3=gemini-pro
MNAME_3=Gemini Pro
MDESC_3=Google的高性能模型
```

#### 示例2：本地模型配置
```
MID_1=llama-3.1-70b
MNAME_1=Llama 3.1 70B
MDESC_1=Meta的开源大语言模型

MID_2=qwen2-72b
MNAME_2=通义千问2 72B
MDESC_2=阿里云的中文优化模型
```

### API配置

通常你还需要配置相应的API访问信息：

```
API_BASE_URL=https://api.openai.com/v1
API_KEY=sk-...
API_ORGANIZATION=org-...

# 或者针对特定服务
OPENAI_API_KEY=sk-...
ANTHROPIC_API_KEY=sk-ant-...
GOOGLE_API_KEY=...
```

## 使用方法

1. **创建环境变量组**：
   - 在设置页面的"环境变量"标签页中创建新的环境变量组
   - 为组设置描述性名称（如"开发环境"、"OpenAI配置"等）

2. **添加模型变量**：
   - 在组中按照命名约定添加模型相关的环境变量
   - 确保MODEL_*_ID变量包含有效的模型标识符

3. **启用配置**：
   - 同时只能启用一个环境变量组
   - 启用组后，其中定义的所有模型将在模型选择器中显示

## 注意事项

- 模型序号（MODEL_1、MODEL_2等）决定了模型在选择器中的显示顺序
- 序号不需要连续，但建议使用连续数字以便管理
- MODEL_*_ID是必需的，其他字段是可选的
- 环境变量组之间的模型配置是独立的
- 切换环境变量组将立即更新可用的模型列表

## 故障排除

### 模型不显示
- 检查环境变量组是否已启用
- 确认MODEL_*_ID变量格式正确
- 查看应用日志了解详细错误信息

### 模型顺序错误
- 检查模型序号（MODEL_1、MODEL_2等）
- 确保序号为有效数字

### API调用失败
- 检查API_KEY等认证信息是否正确
- 确认API_BASE_URL指向正确的服务端点
- 验证模型ID是否与API服务提供的模型匹配